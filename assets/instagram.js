(function(){var t,e,o;t=function(){function t(t,e){var o,i;if(this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1},"object"==typeof t)for(o in t)i=t[o],this.options[o]=i;this.context=null!=e?e:this,this.unique=this._genKey()}return t.prototype.hasNext=function(){return"string"==typeof this.context.nextUrl&&this.context.nextUrl.length>0},t.prototype.next=function(){return!!this.hasNext()&&this.run(this.context.nextUrl)},t.prototype.run=function(e){var o,i;if("string"!=typeof this.options.clientId&&"string"!=typeof this.options.accessToken||"string"!=typeof this.options.accessToken&&"string"!=typeof this.options.clientId)throw Error("Missing clientId or accessToken.");return null!=this.options.before&&"function"==typeof this.options.before&&this.options.before.call(this),"undefined"!=typeof document&&null!==document&&((i=document.createElement("script")).id="instafeed-fetcher",i.src=e||this._buildUrl(),document.getElementsByTagName("head")[0].appendChild(i),o="instafeedCache"+this.unique,window[o]=new t(this.options,this),window[o].unique=this.unique),!0},t.prototype.parse=function(t){var e,o,i,n,s,r,a,l,p,c,h,d,f,u,m,g,y,k,v,b,w,I,N,x,T,E,O,_;if("object"!=typeof t){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"Invalid JSON data"),!1;throw Error("Invalid JSON response")}if(200!==t.meta.code){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,t.meta.error_message),!1;throw Error("Error from Instagram: "+t.meta.error_message)}if(0===t.data.length){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"No images were returned from Instagram"),!1;throw Error("No images were returned from Instagram")}if(null!=this.options.success&&"function"==typeof this.options.success&&this.options.success.call(this,t),this.context.nextUrl="",null!=t.pagination&&(this.context.nextUrl=t.pagination.next_url),"none"!==this.options.sortBy)switch(T="least"===(E="random"===this.options.sortBy?["","random"]:this.options.sortBy.split("-"))[0],E[1]){case"random":t.data.sort(function(){return .5-Math.random()});break;case"recent":t.data=this._sortBy(t.data,"created_time",T);break;case"liked":t.data=this._sortBy(t.data,"likes.count",T);break;case"commented":t.data=this._sortBy(t.data,"comments.count",T);break;default:throw Error("Invalid option for sortBy: '"+this.options.sortBy+"'.")}if("undefined"!=typeof document&&null!==document&&!1===this.options.mock){if(d=t.data,x=parseInt(this.options.limit,10),null!=this.options.limit&&d.length>x&&(d=d.slice(0,x)),r=document.createDocumentFragment(),null!=this.options.filter&&"function"==typeof this.options.filter&&(d=this._filter(d,this.options.filter)),null!=this.options.template&&"string"==typeof this.options.template){for(a="",_=document.createElement("div"),l=0,b=d.length;l<b;l++){if(c=(p=d[l]).images[this.options.resolution],"object"!=typeof(ps=p.images.standard_resolution))throw Error(s="No image found for resolution: standard_resolution.");if("object"!=typeof c)throw Error(s="No image found for resolution: "+this.options.resolution+".");m="square",(g=c.width)>(u=c.height)&&(m="landscape"),g<u&&(m="portrait"),h=c.url,(Es=ps.width)>(ys=ps.height)&&(m="landscape"),Es<ys&&(m="portrait"),vs=ps.url,window.location.protocol.indexOf("http")>=0&&!this.options.useHttp&&(h=h.replace(/https?:\/\//,"//")),a+=this._makeTemplate(this.options.template,{model:p,id:p.id,link:p.link,type:p.type,image:h,image_standard:vs,width:g,height:u,orientation:m,caption:this._getObjectProperty(p,"caption.text"),likes:p.likes.count,comments:p.comments.count,location:this._getObjectProperty(p,"location.name")})}for(_.innerHTML=a,n=[],i=0,o=_.childNodes.length;i<o;)n.push(_.childNodes[i]),i+=1;for(k=0,w=n.length;k<w;k++)N=n[k],r.appendChild(N)}else for(v=0,I=d.length;v<I;v++){if(p=d[v],f=document.createElement("img"),"object"!=typeof(c=p.images[this.options.resolution]))throw Error(s="No image found for resolution: "+this.options.resolution+".");h=c.url,window.location.protocol.indexOf("http")>=0&&!this.options.useHttp&&(h=h.replace(/https?:\/\//,"//")),f.src=h,!0===this.options.links?((e=document.createElement("a")).href=p.link,e.appendChild(f),r.appendChild(e)):r.appendChild(f)}if("string"==typeof(O=this.options.target)&&(O=document.getElementById(O)),null==O)throw Error(s='No element with id="'+this.options.target+'" on page.');O.appendChild(r),document.getElementsByTagName("head")[0].removeChild(document.getElementById("instafeed-fetcher")),y="instafeedCache"+this.unique,window[y]=void 0;try{delete window[y]}catch(S){}}return null!=this.options.after&&"function"==typeof this.options.after&&this.options.after.call(this),!0},t.prototype._buildUrl=function(){var t,e,o;switch(t="https://api.instagram.com/v1",this.options.get){case"popular":e="media/popular";break;case"tagged":if(!this.options.tagName)throw Error("No tag name specified. Use the 'tagName' option.");e="tags/"+this.options.tagName+"/media/recent";break;case"location":if(!this.options.locationId)throw Error("No location specified. Use the 'locationId' option.");e="locations/"+this.options.locationId+"/media/recent";break;case"user":if(!this.options.userId)throw Error("No user specified. Use the 'userId' option.");e="users/"+this.options.userId+"/media/recent";break;default:throw Error("Invalid option for get: '"+this.options.get+"'.")}return o=t+"/"+e,null!=this.options.accessToken?o+="?access_token="+this.options.accessToken:o+="?client_id="+this.options.clientId,null!=this.options.limit&&(o+="&count="+this.options.limit),o+="&callback=instafeedCache"+this.unique+".parse"},t.prototype._genKey=function(){var t;return""+(t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)})()+t()+t()+t()},t.prototype._makeTemplate=function(t,e){var o,i,n,s,r;for(i=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,o=t;i.test(o);)s=o.match(i)[1],r=null!=(n=this._getObjectProperty(e,s))?n:"",o=o.replace(i,function(){return""+r});return o},t.prototype._getObjectProperty=function(t,e){var o,i;for(i=(e=e.replace(/\[(\w+)\]/g,".$1")).split(".");i.length;){if(o=i.shift(),!(null!=t&&o in t))return null;t=t[o]}return t},t.prototype._sortBy=function(t,e,o){var i;return i=function(t,i){var n,s;return n=this._getObjectProperty(t,e),s=this._getObjectProperty(i,e),o?n>s?1:-1:n<s?1:-1},t.sort(i.bind(this)),t},t.prototype._filter=function(t,e){var o,i,n,s,r;for(o=[],i=function(t){if(e(t))return o.push(t)},n=0,r=t.length;n<r;n++)i(s=t[n]);return o},t}(),e=this,o=function(){return t},"function"==typeof define&&define.amd?define([],o):"object"==typeof module&&module.exports?module.exports=o():e.Instafeed=o()}).call(this);var INSTAGRAM_SELECTOR=".tt-instagram",INSTAGRAM_OPTIONS={get:"user",userId:"self",resolution:"low_resolution"},INSTAGRAM_TEMPLATE='<div class="item"><div class="instaitem"><a  target="_blank" href="{{link}}" ><img class="size-info"  width="320" height="320" src="{{image}}" alt="Instagram"></a></div><div class="info pa tc flex ts__03 center-xs middle-xs"><span class="likes"><a href="{{link}}"  target="_blank"><i class="fa fa-heart-o"></i>{{likes}}</a></span><span class="comments"><a href="{{link}}"  target="_blank"><i class="fa fa-comments-o"></i>{{comments}}</a></span><span class="zoom_icon"><a class="lightbox_link" href="{{image_standard}}" target="_blank"  data-lightbox="insta-images"><i class="fa fa-search"></i></a></span></div></div>',instagrams={};function instagram_init(t){var e=t.dataset.id,o=document.querySelector("#token-"+e);if(o){var i=o.value,n=document.querySelector("#instafeed-"+e);parseInt(n.dataset.rows);for(var s=parseInt(n.dataset.grid),r=n.dataset.sortBy,a=$.extend({},{limit:12,target:n,accessToken:i,sortBy:r,template:INSTAGRAM_TEMPLATE.replace("%grid%",s),after:function(){$("body:not(.rtl) #instafeed-"+e)},error:function(t){console.error("Unable to download Instagram data: "+t)}},INSTAGRAM_OPTIONS);n.firstChild;)n.removeChild(n.firstChild);new Instafeed(a).run()}}function load_instagram(t){var e=t.querySelectorAll(INSTAGRAM_SELECTOR);Array.prototype.forEach.call(e,instagram_init)}function get_section_name(t){var e=null;if(t&&t.detail){var o={},i=t.target.dataset;for(var n in i)i.hasOwnProperty(n)&&0===n.indexOf("themeEditorSection-")&&(o=JSON.parse(i[n]));o.hasOwnProperty("type")&&(e=o.type)}return e}function onload(t){var e=get_section_name(t);e&&"instagram"!==e||load_instagram(t.target)}document.addEventListener("shopify:section:load",onload),document.addEventListener("shopify:section:unload",onload),document.addEventListener("DOMContentLoaded",onload);