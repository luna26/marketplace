!function(e){e.fn.countdown=function(t){var n={date:null,updateTime:1e3,htmlTemplate:"%d <span class='cd-time'>days</span> %h <span class='cd-time'>hours</span> %i <span class='cd-time'>mins</span> %s <span class='cd-time'>sec</span>",minus:!1,onChange:null,onComplete:null,onResume:null,onPause:null,leadingZero:!1,offset:null,servertime:null,hoursOnly:!1,minsOnly:!1,secsOnly:!1,weeks:!1,hours:!1,yearsAndMonths:!1,direction:"down",stopwatch:!1},a=Array.prototype.slice,r=window.clearInterval,i=Math.floor,o=/(%y|%m|%w|%d|%h|%i|%s)/g,s=/%y/,d=/%m/,c=/%w/,u=/%d/,l=/%h/,m=/%i/,$=/%s/,h=function(e){var t=new Date,n=e.data("jcdData");return n?((t=null!==n.offset?p(n.offset):p(null,n.difference)).setMilliseconds(0),t):new Date},p=function(e,t){var n,a,r,i=new Date;return null===e?a=i.getTime()-t:(n=36e5*e,r=i.getTime()- -i.getTimezoneOffset()/60*36e5+n,a=i.setTime(r)),new Date(a)},f=function(){var e,t,n,a,p,f,g,j,v,w,y,D,_="",C=function(e){var t;return t=i(D/e),D-=t*e,t},T=this.data("jcdData");if(!T)return!1;e=T.htmlTemplate,t=h(this),(n=T.dateObj).setMilliseconds(0),D=Math.round((a="down"===T.direction?n.getTime()-t.getTime():t.getTime()-n.getTime())/1e3),j=C(86400),v=C(3600),w=C(60),y=C(1),T.yearsAndMonths&&(D+=86400*j,p=C(31556926),f=C(2629743.83),j=C(86400)),T.weeks&&(D+=86400*j,g=C(604800),j=C(86400)),T.hoursOnly&&(v+=24*j,j=0),T.minsOnly&&(w+=60*v+1440*j,j=v=0),T.secsOnly&&(y+=60*w,j=v=w=0),T.yearsLeft=p,T.monthsLeft=f,T.weeksLeft=g,T.daysLeft=j,T.hrsLeft=v,T.minsLeft=w,T.secLeft=y,60===y&&(y=0),T.leadingZero&&(j<10&&!T.hoursOnly&&(j="0"+j),p<10&&(p="0"+p),f<10&&(f="0"+f),g<10&&(g="0"+g),v<10&&(v="0"+v),w<10&&(w="0"+w),y<10&&(y="0"+y)),"down"===T.direction&&(t<n||T.minus)||"up"===T.direction&&(n<t||T.minus)?_=(_=e.replace(s,p).replace(d,f).replace(c,g)).replace(u,j).replace(l,v).replace(m,w).replace($,y):(_=e.replace(o,"00"),T.hasCompleted=!0),this.html(_).trigger("change.jcdevt",[T]).trigger("countChange",[T]),T.hasCompleted&&(this.trigger("complete.jcdevt").trigger("countComplete"),r(T.timer)),this.data("jcdData",T)},g={init:function(t){var a,r,i=e.extend({},n,t);return this.each(function(){var n,o,s=e(this),d={};if(s.data("jcdData")&&(s.countdown("changeSettings",t,!0),i=s.data("jcdData")),null===i.date)return e.error("No Date passed to jCountdown. date option is required."),!0;"Invalid Date"===(r=new Date(i.date)).toString()&&e.error("Invalid Date passed to jCountdown: "+i.date),r=null,i.onChange&&s.on("change.jcdevt",i.onChange),i.onComplete&&s.on("complete.jcdevt",i.onComplete),i.onPause&&s.on("pause.jcdevt",i.onPause),i.onResume&&s.on("resume.jcdevt",i.onResume),(d=e.extend({},i)).originalHTML=s.html(),d.dateObj=new Date(i.date),d.hasCompleted=!1,d.timer=0,d.yearsLeft=d.monthsLeft=d.weeksLeft=d.daysLeft=d.hrsLeft=d.minsLeft=d.secLeft=0,d.difference=null,null!==i.servertime&&(a=new Date,n=e.isFunction(d.servertime)?d.servertime():d.servertime,d.difference=a.getTime()-n,n=null),o=e.proxy(f,s),d.timer=setInterval(o,d.updateTime),s.data("jcdData",d),o()})},changeSettings:function(t,n){return this.each(function(){var a,i,o=e(this),s=e.proxy(f,o);if(!o.data("jcdData"))return!0;a=e.extend({},o.data("jcdData"),t),t.hasOwnProperty("date")&&"Invalid Date"===(i=new Date(t.date)).toString()&&e.error("Invalid Date passed to jCountdown: "+t.date),a.hasCompleted=!1,a.dateObj=new Date(t.date),r(a.timer),o.off(".jcdevt").data("jcdData",a),n||(a.onChange&&o.on("change.jcdevt",a.onChange),a.onComplete&&o.on("complete.jcdevt",a.onComplete),a.onPause&&o.on("pause.jcdevt",a.onPause),a.onResume&&o.on("resume.jcdevt",a.onResume),a.timer=setInterval(s,a.updateTime),o.data("jcdData",a),s()),a=null})},resume:function(){return this.each(function(){var t=e(this),n=t.data("jcdData"),a=e.proxy(f,t);if(!n)return!0;if(t.data("jcdData",n).trigger("resume.jcdevt",[n]).trigger("countResume",[n]),!n.hasCompleted){if(n.timer=setInterval(a,n.updateTime),n.stopwatch&&"up"===n.direction){var r=h(t).getTime()-n.pausedAt.getTime(),i=new Date;i.setTime(n.dateObj.getTime()+r),n.dateObj=i}a()}})},pause:function(){return this.each(function(){var t=e(this),n=t.data("jcdData");if(!n)return!0;n.stopwatch&&(n.pausedAt=h(t)),r(n.timer),t.data("jcdData",n).trigger("pause.jcdevt",[n]).trigger("countPause",[n])})},complete:function(){return this.each(function(){var t=e(this),n=t.data("jcdData");if(!n)return!0;r(n.timer),n.hasCompleted=!0,t.data("jcdData",n).trigger("complete.jcdevt").trigger("countComplete",[n]).off(".jcdevt")})},destroy:function(){return this.each(function(){var t=e(this),n=t.data("jcdData");if(!n)return!0;r(n.timer),t.off(".jcdevt").removeData("jcdData").html(n.originalHTML)})},getSettings:function(t){var n=e(this).data("jcdData");return t&&n?n.hasOwnProperty(t)?n[t]:void 0:n}};return g[t]?g[t].apply(this,a.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist in the jCountdown Plugin"):g.init.apply(this,arguments)}}(jQuery);